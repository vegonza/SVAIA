<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/login.css') }}" rel="stylesheet">
    <title>Login</title>
</head>
<body>
    <!-- Section: Design Block -->
<section class="background-gradient">
    <!-- Jumbotron -->
    <div class="px-4 py-5 px-md-5 text-center text-lg-start full-container">
      <div class="container">
        <div class="row gx-lg-5 align-items-center">
          <div class="col-lg-6 mb-5 mb-lg-0">
            <h1 class="my-5 display-3 fw-bold ls-tight svaia-text">
              Olvídate de buscar vulnerabilidades <br />
              <span class="text-primary">nuestra IA se encarga de ello</span>
            </h1>
            <p class="texto-destacado">
              Deja de perder tiempo buscando vulnerabilidades en tu código. <br />
              Con nuestra IA, puedes centrarte en lo que realmente importa. <br />
              ¡Comienza ya! <br />
            </p>
          </div>
  
          <div class="col-lg-6 mb-5 mb-lg-0">
            <div class="card login-card">
              <div class="card-header-custom">
                <h3 class="mb-0 svaia-text">Acceso a SVAIA</h3>
              </div>
              <div class="card-body py-5 px-md-5">
                {% with messages = get_flashed_messages(with_categories=true) %}
                  {% if messages %}
                    {% for category, message in messages %}
                      <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                      </div>
                    {% endfor %}
                  {% endif %}
                {% endwith %}
                <form action="{{ url_for('auth.login') }}" method="POST">
                  <!-- Nombre y Apellidos -->
                  <div class="row">
                    <div class="col-md-6 mb-4">
                      <div class="input-group-custom">
                        <i class="bi bi-person-fill input-icon"></i>
                        <input type="text" id="inputNombre" name="name" class="form-control form-control-custom" placeholder="Nombre" required />
                      </div>
                    </div>
                    <div class="col-md-6 mb-4">
                      <div class="input-group-custom">
                        <i class="bi bi-person-fill input-icon"></i>
                        <input type="text" id="inputApellidos" name="last_name" class="form-control form-control-custom" placeholder="Apellidos" required />
                      </div>
                    </div>
                  </div>
                  
                  <!-- Email input -->
                  <div class="input-group-custom">
                    <i class="bi bi-envelope-fill input-icon"></i>
                    <input type="email" id="form3Example3" name="email" class="form-control form-control-custom" placeholder="Correo Electrónico" required />
                  </div>
  
                  <!-- Password input -->
                  <div class="input-group-custom">
                    <i class="bi bi-lock-fill input-icon"></i>
                    <input type="password" id="form3Example4" name="password" class="form-control form-control-custom" placeholder="Contraseña" required />
                  </div>

                  <!-- Hidden next field for redirection after login -->
                  {% if request.args.get('next') %}
                  <input type="hidden" name="next" value="{{ request.args.get('next') }}">
                  {% endif %}

                  <!-- Submit button -->
                  <button type="submit" class="btn btn-primary btn-login w-100 mb-4">
                    Iniciar Sesión
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Jumbotron -->
  </section>
  <!-- Section: Design Block -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>AOS.init();</script>
</body>
</html>